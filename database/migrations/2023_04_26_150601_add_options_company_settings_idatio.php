<?php

use Crater\Models\Company;
use Crater\Models\CompanySetting;
use Illuminate\Database\Migrations\Migration;

return new class () extends Migration {
    /**
     * Run the migrations.
     *
     * @return void
     */
    public function up(): void
    {
        $options = ["packages_prefix", "expense_auto_generate", "expense_prefix", "packages_pbx_prefix", "extension_pbx_prefix", "service_prefix", "pbx_services_prefix", "did_pbx_prefix", "customer_prefix", "prov_prefix", "item_prefix", "allow_renewal_date_job", "time_run_renewal_date_job", "invoice_notice_one", "invoice_notice_two", "invoice_notice_three", "invoice_notice_unpaid", "ticket_creatio_customer", "ticket_creatio_user", "ticket_update_customer", "ticket_update_user", "allow_renewal_date_job_pbx", "time_run_renewal_date_job_pbx", "allow_send_invoice_job", "period_time_run_send_invoice_job", "invoice_notices_settings_send_cancellation", "invoice_notices_settings_send_payment", "invoice_notices_settings_notice_1", "invoice_notices_settings_notice_1_type", "invoice_notices_settings_notice_2", "invoice_notices_settings_notice_2_type", "invoice_notices_settings_notice_3", "invoice_notices_settings_notice_3_type", "invoice_notices_settings_auto_debit_pending", "payment_approved_ach", "payment_ach_declined", "payment_approved_credit_card", "payment_credit_card_rejected", "customer_account_registration", "customer_password_reset", "customer_email_verification", "customer_forgetting_username", "pbx_creation_services", "pbx_suspension_services", "pbx_cancellation_services", "allow_autodebit_customer_job", "time_run_autodebit_customer_job", "allow_reminder_payment_job", "time_run_reminder_payment_job", "allow_cardexpiration_payment_job", "time_run_cardexpiration_payment_job", "allow_suspension_pbx_job", "time_run_suspension_pbx_job", "allow_suspension_packages_job", "time_run_suspension_packages_job", "allow_unsuspend_packages_job", "period_run_unsuspend_packages_job", "time_unsuspend_packages_job", "allow_unsuspend_pbx_job", "period_run_unsuspend_job", "time_unsuspend_pbx_job", "payment_card_expiration_reminders", "customer_email_notification", "customer_customer_creation", "pbx_reactivation_services", "creation_services", "idle_time_logout", "time_invoices_draft_sent", "header_color", "primary_color", "color_invoice", "footer_text_value", "footer_url_value", "invoice_footer", "late_fee_hour", "invoice_late_fee_active_one", "invoice_late_fee_active_two", "invoice_late_fee_active_three", "invoice_late_fee_days_one", "invoice_late_fee_days_two", "invoice_late_fee_days_three", "invoice_late_fee_type_one_value", "invoice_late_fee_type_two_value", "invoice_late_fee_type_three_value", "invoice_late_fee_type_one", "invoice_late_fee_type_two", "invoice_late_fee_type_three", "server_notification", "activate_notification", "server_subject", "pbx_server_emailbody", "send_email_deactive", "invoice_mail_subject", "pbx_creation_services_subject", "payment_subject", "payment_approved_ach_subject", "payment_ach_declined_subject", "payment_card_expiration_reminders_subject", "customer_account_registration_subject", "customer_customer_creation_subject", "customer_password_reset_subject", "customer_email_verification_subject", "customer_forgetting_username_subject", "customer_email_notification_subject", "server_subject_up", "pbx_server_emailbody_up", "pbx_ext_subject_down", "pbx_ext_body_down", "pbx_ext_subject_up", "pbx_ext_body_up"];

        $values = ["PACK", "NO", "EXPT", "PBXP", "PBXEE", "PAX", "PBXS", "DIDR", "POP", "PROR", "ITEM", "0", "00:00", "<p>Hi , {CONTACT_DISPLAY_NAME}<br><br>This is a reminder that invoice <strong># {INVOICE_NUMBER}</strong> is DUE UPON RECEIPT. If you have recently mailed in payment for this invoice, you can ignore this reminder.</p><p>Please click on the link below to make a payment.</p><p></p><p>{PAY_LINK_LOGIN}<br><br>Thank you for your continued business!</p><h1><strong>{COMPANY_NAME}</strong></h1><p>{COMPANY_ADDRESS_STREET_1}</p><p>{COMPANY_CITY} {COMPANY_STATE} {COMPANY_ZIP_CODE}</p><p>{COMPANY_PHONE}</p>", "<p>Hi , {CONTACT_DISPLAY_NAME}<br><br>This is the <strong>2nd notice</strong> we have sent regarding invoice <strong>#</strong>{INVOICE_NUMBER}. Is now past due. If you have recently mailed in payment for this invoice, you can ignore this email.<br>{PAY_LINK_LOGIN}</p><h1><strong>{COMPANY_NAME}</strong></h1><p>{COMPANY_ADDRESS_STREET_1}</p><p>{COMPANY_CITY} {COMPANY_STATE} {COMPANY_ZIP_CODE}</p><p>{COMPANY_PHONE}</p><p></p>", "<p>Hi {CONTACT_DISPLAY_NAME},<br><br>This is the <strong>3rd notice</strong> we have sent regarding invoice <strong>#</strong>{INVOICE_NUMBER} and is now past due. This is the last notice we will send regarding this particular invoice. If payment is not received with in the next 10 days, the account may be suspended.</p><p>{PAY_LINK_LOGIN}</p><h1><strong>{COMPANY_NAME}</strong></h1><p>{COMPANY_ADDRESS_STREET_1}</p><p>{COMPANY_CITY} {COMPANY_STATE} {COMPANY_ZIP_CODE}</p><p>{COMPANY_PHONE}</p>", "<p>Hi , {CONTACT_DISPLAY_NAME}<br><br>This is a reminder that invoice <strong># {INVOICE_NUMBER}</strong> is DUE UPON RECEIPT. If you have recently mailed in payment for this invoice, you can ignore this reminder.</p><p>Please click on the link below to make a payment.<br>{PAY_LINK_LOGIN}<br>Thank you for your continued business!</p><h1><strong>{COMPANY_NAME}</strong></h1><p>{COMPANY_ADDRESS_STREET_1}</p><p>{COMPANY_CITY} {COMPANY_STATE} {COMPANY_ZIP_CODE}</p><p>{COMPANY_PHONE}</p>", "<p>Hello {CONTACT_DISPLAY_NAME},</p><p>We have received your request and someone will be looking at it shortly.</p><p></p><p>{TICKECT_DETAILS}</p><p></p><p>Thank you</p><p></p>", "<p>A new ticket has been received with the following details:</p><p>{TICKECT_PRIORITY}</p><p>{TICKECT_DEPARTAMENT}</p><p>{TICKECT_ASSIGNED_TO}</p><p>{TICKECT_DETAILS}</p><p>{TICKECT_STATUS}</p><p></p><p></p>", "<p>Hello{CONTACT_DISPLAY_NAME},</p><p></p><p>Your request is currently being worked on by our team and we will get back to you as soon as we have an update.</p><p>{TICKECT_STATUS}</p><p>{TICKECT_DETAILS}</p><p>Thank you for your patience.</p><p></p><p></p><p></p><p></p><p></p>", "<p>The following ticket has been updated:</p><p>{TICKECT_DEPARTAMENT}</p><p>{TICKECT_ASSIGNED_TO}</p><p>{TICKECT_PRIORITY}</p><p>{TICKECT_STATUS}</p><p>{TICKECT_DETAILS}</p>", "0", "00:00", "0", "7", "1", "1", "2", "Before", "2", "After", "8", "After", "1", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,<br>We have submitted a debit request to your bank for <strong>{PAYMENT_AMOUNT}</strong>, Payment number {PAYMENT_NUMBER} </p><p></p><p>Please verify that the account details we have on file are correct. We will attempt this request again once a day until it is successful, up to three times.</p><p><strong>Please remember to update your payment information so we can proceed with the debit request</strong></p><p></p><p>Thank you for your business!</p><p></p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,<br>We submitted a debit request to your bank for the amount of <strong>{PAYMENT_AMOUNT}</strong>, but the request was declined.<br><strong>Please verify that the account details we have on file are correct.</strong><br><br>We will attempt this request again once a day until it is successful, up to three times.</p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,<br>We have successfully processed payment with your <strong>{CREDIT_CARD}</strong>, ending in <strong>{CARD_NUMBER}</strong>. Please keep this email as a receipt for your records.</p><p><br>Amount: <strong>{PAYMENT_AMOUNT}</strong><br>Transaction Number: <strong>{TRANSACTION}</strong></p><p><br>The charge will be listed as being from {COMPANY_NAME} on your credit card statement.<br>Thank you for your business!</p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,<br><br>We tried to charge your <strong>{CREDIT_CARD}</strong>, ending in <strong>{CARD_NUMBER}</strong> the amount of <strong>{PAYMENT_AMOUNT}</strong>, but it was declined.</p><p><strong>Please verify that the account details we have on file are correct.</strong><br>We will attempt to charge your card again once a day until it is successful, up to three times.</p>", "<p><strong>HELLO {CONTACT_DISPLAY_NAME} Welcome&nbsp;to {COMPANY_NAME}!</strong></p><p></p><p>Thank you for choosing <strong>{COMPANY_NAME}</strong>. The activation of your account&nbsp;is now complete.</p><p>Your new account&nbsp;login details below. Please login and change your password at your earliest convenience.<br><br>Username: {CONTACT_EMAIL}<br>Password: {CONTACT_PASSWORD}</p><p>{CUSTOMER_LOGIN}<br>If you placed an order for services, you'll receive a separate email once they are activated.<br><br>Thank you for choosing <strong>{COMPANY_NAME}</strong>!</p><p></p>", '<p>Hi <strong>{CONTACT_DISPLAY_NAME}</strong>,<br><br>You have requested a password reset for your account. If this was you, please visit the following URL to reset your password..<br><br><a href="http://{password_reset_url}" rel="noopener noreferrer nofollow">http://{password_reset_url}</a><br><br>If you did not submit this request, please contact your system administrator. No action is required to keep your password the same.</p>', "<p>Hi <strong>{CONTACT_DISPLAY_NAME}</strong></p><p>Some features of your account may be restricted, or orders may be held, until your email address is verified. To verify your email address, please click the link below or copy and paste it into your browser.</p>", "<p>Hi <strong>{CONTACT_DISPLAY_NAME}</strong>,</p><p>You have requested the username for your account.<br>The username for your account is: <strong>{CONTACT_USERNAME}</strong></p><p>If you did not make this request, you can safely ignore this email.</p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,<br><br>Your service PBX <strong>{SERVICE_PBX_SERVICES_NUMBER}</strong> has been approved and activated. Please keep this email for your records.</p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,</p><p>Your service, <strong>{SERVICE_PBX_SERVICES_NUMBER}</strong> has been suspended. The service may have been suspended for the following reasons:</p><ol><li><p>Non-payment. If your service was suspended for non-payment, you may login at&nbsp;<strong>{CUSTOMER_LOGIN}</strong>&nbsp;to post payment and re-activate the service.</p></li><li><p>TOS or abuse violation.</p></li></ol><p>If the service is suspended for an extended period of time, it may be cancelled. Please contact us if you have any questions.</p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,</p><p>Your service, <strong>{SERVICE_PBX_SERVICES_NUMBER}</strong> , has been canceled.</p>", "0", "00:00", "0", "00:00", "0", "00:00", "0", "00:00", "0", "00:00", "0", "10", "2023-04-26 14:11", "0", "11", "2023-04-26 14:14", "<p>Hi <strong>{CONTACT_DISPLAY_NAME}</strong>,</p><p>Your <strong>{CREDIT_CARD}</strong> ending in <strong>{CARD_NUMBER}</strong> is expiring this month.</p><p></p><p>To update your card, please login into our client area at <code>{CUSTOMER_LOGIN}. </code>If the card is not updated, we'll be unable to process payment for any current or future charges</p><p></p><p>Thank you!</p>", "<p><strong>Dear </strong>{PRIMARY_CONTACT_NAME}</p><p>Your prepaid account has reached a critically low balance of $<strong>{CONTACT_BALANCE}</strong>. When your account reaches $0.00, your termination services will be suspended. To avoid future service interruptions please login to your BackOffice at&nbsp;{CUSTOMER_LOGIN}&nbsp;and submit a one-time or recurring payment.</p><p>If you have any questions or would like to add, change, or remove email notification recipients, please submit a billing ticket through your BackOffice.</p><p></p><p>Sincerely,</p><p></p><p></p><p></p><p></p>", "<p><strong>Hi {CONTACT_DISPLAY_NAME} Welcome&nbsp;to {COMPANY_NAME}!</strong><br>Thank you for choosing <strong>{COMPANY_NAME}</strong>. The activation of your account&nbsp;is now complete.<br>If you placed an order for services, you'll receive a separate email once they are activated.<br><br>Thank you for choosing <strong>{COMPANY_NAME}</strong>!</p>{CUSTOMER_LOGIN}", "<p>Hi <strong>{COMPANY_NAME}</strong> ,<br><br>Your service,&nbsp;<strong>{SERVICE_PBX_SERVICES_NUMBER}</strong> has been reactivated from its suspension. Please contact us if you have any questions.</p>", "<p>Hi <strong>{PRIMARY_CONTACT_NAME}</strong>,</p><p>Your service number <strong>{SERVICES_NUMBER}</strong> has been approved and activated. Please keep this email for your records.</p><p>Thank you!</p><p></p>", "60", "2023-04-26 15:02", "#9E9E9EFF", "#4E4E34FF", "#DAE4E6FF", "Corebill a Care One Communications Solution", "myaccount.idatio.com", "<p>Terms</p><p>At Care One Communications we are committed to excellent costumer service and support.</p><p>Please pay your invoice before the due date to avoid any late charges. Mail all payments or correspondence to</p><p>the address below. If you need support Care One Communications support team is available via E-Mail at Support@CareOneComm.com .Any payments received 15 days</p><p>past the due date will be subject to a 10% penalty.</p><p>Costumer Service# 1469-250-0260</p>", "00:00", "0", "0", "0", "1", "1", "1", "0", "0", "0", "fixed", "fixed", "fixed", "support@careonecomm.com", "0", "<p>PBX server {SERVER_LABEL} {HOST_IP} is down</p><p></p>", "<p>Hello,</p><p><strong>We just detected an incident on your PBX {SERVER_LABEL} . It seems your service is currently&nbsp;down. </strong>As long as the incident is active, Corebill will be impacted on your PBX services.</p><p></p><p>Server details:</p><h2>{SERVER_LABEL}</h2><p>Checked URL</p><h2>{HOST_IP}</h2><p>Root cause</p><h2>Host Is Unreachable</h2><p></p><p></p>", "NO", "<p>Invoice #  {INVOICE_NUMBER}</p>", "<p>Pbx Service <strong>{SERVICE_PBX_SERVICES_NUMBER} </strong>activated</p>", "<p>Payment successfully processed </p>", "<p>Payment attempt</p>", "<p>Payment declined </p>", "<p>Your payment method will expire soon.</p>", "<p>Account Activation Confirmation</p>", "<p>Account Activation Completed</p>", "<p>Password Reset Request</p>", "<p>Account validation</p>", "<p>Log-In Credentials Request</p>", "<p>Low-Balance Notification </p>", "<p>PBX server {SERVER_LABEL} {HOST_IP} is back online</p><p></p>", "<p>Hello,</p><p><strong>The PBX server {SERVER_LABEL} is back online. </strong> Billing services related to this PBX will continue working normally.</p>", "<p>Extension {EXT_NAME} {EXT_EXT} is suspended. </p>", "<p>Hello,</p><p>The {EXT_NAME} {EXT_EXT} extension is suspended. While in this state, this specific extension will not be charged on the service.</p>", "<p>Extension {EXT_NAME} {EXT_EXT} is active.</p>", "<p>Hello,</p><p>The {EXT_NAME} {EXT_EXT} extension is active. This extension will be charged in the next billing cycle. </p>"];

        $companies = Company::all();

        if ($companies->isEmpty()) {
            return;
        }

        foreach ($companies as $company) {
            foreach ($options as $i => $option) {
                $company_setting = CompanySetting::where("option", $option)
                                                 ->where("company_id", $company->id)
                                                 ->first();

                if ($company_setting == null) {
                    $new_option = new CompanySetting();
                    $new_option->option = $option;
                    $new_option->value = $values[$i];
                    $new_option->company_id = $company->id;
                    $new_option->save();
                }
            }
        }
    }

    /**
     * Reverse the migrations.
     *
     * @return void
     */
    public function down(): void
    {
        //
    }
};
